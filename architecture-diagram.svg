<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400">
  <!-- Background with subtle grid -->
  <defs>
    <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
    </pattern>
  </defs>
  
  <rect width="700" height="400" fill="white" />
  <rect width="700" height="400" fill="url(#smallGrid)" />
  
  <!-- Title with background -->
  <rect x="200" y="15" width="300" height="35" rx="5" fill="#1976d2" />
  <text x="350" y="40" font-family="Arial, sans-serif" font-size="18" font-weight="bold" 
        text-anchor="middle" fill="white">Pipeline Architecture</text>
  
  <!-- Different approach - horizontal flow diagram -->
  <!-- Stage 1: Data Collection -->
  <rect x="50" y="70" width="600" height="70" rx="8" fill="#e3f2fd" stroke="#1565c0" stroke-width="1" />
  <text x="350" y="95" font-family="Arial, sans-serif" font-size="16" font-weight="bold" 
        text-anchor="middle" fill="#01579b">1. Data Collection & Processing</text>
  
  <rect x="70" y="110" width="120" height="20" rx="3" fill="#bbdefb" />
  <text x="130" y="125" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">yfinance API</text>
  
  <rect x="210" y="110" width="120" height="20" rx="3" fill="#bbdefb" />
  <text x="270" y="125" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Identify Losers</text>
  
  <rect x="350" y="110" width="120" height="20" rx="3" fill="#bbdefb" />
  <text x="410" y="125" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">CSV Management</text>
  
  <rect x="490" y="110" width="140" height="20" rx="3" fill="#bbdefb" />
  <text x="560" y="125" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Yahoo Finance Data</text>
  
  <!-- Stage 2: Analysis Engine -->
  <rect x="50" y="160" width="600" height="70" rx="8" fill="#e3f2fd" stroke="#1565c0" stroke-width="1" />
  <text x="350" y="185" font-family="Arial, sans-serif" font-size="16" font-weight="bold" 
        text-anchor="middle" fill="#01579b">2. Analysis Engine</text>
  
  <rect x="70" y="200" width="180" height="20" rx="3" fill="#bbdefb" />
  <text x="160" y="215" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Confidence Score Calculation</text>
  
  <rect x="270" y="200" width="180" height="20" rx="3" fill="#bbdefb" />
  <text x="360" y="215" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">2-Year Return Projection</text>
  
  <rect x="470" y="200" width="160" height="20" rx="3" fill="#bbdefb" />
  <text x="550" y="215" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">SPY Comparison Logic</text>
  
  <!-- Stage 3: Output & Reporting -->
  <rect x="50" y="250" width="600" height="70" rx="8" fill="#e3f2fd" stroke="#1565c0" stroke-width="1" />
  <text x="350" y="275" font-family="Arial, sans-serif" font-size="16" font-weight="bold" 
        text-anchor="middle" fill="#01579b">3. Output & Reporting</text>
  
  <rect x="70" y="290" width="120" height="20" rx="3" fill="#bbdefb" />
  <text x="130" y="305" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Google Sheets API</text>
  
  <rect x="210" y="290" width="140" height="20" rx="3" fill="#bbdefb" />
  <text x="280" y="305" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Results Compilation</text>
  
  <rect x="370" y="290" width="120" height="20" rx="3" fill="#bbdefb" />
  <text x="430" y="305" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Email Reports</text>
  
  <rect x="510" y="290" width="120" height="20" rx="3" fill="#bbdefb" />
  <text x="570" y="305" font-family="Arial, sans-serif" font-size="12" 
        text-anchor="middle" fill="#333">Data Visualization</text>
  
  <!-- Stage 4: Automation -->
  <rect x="200" y="340" width="300" height="45" rx="8" fill="#1565c0" stroke="#0d47a1" stroke-width="1" />
  <text x="350" y="370" font-family="Arial, sans-serif" font-size="16" font-weight="bold" 
        text-anchor="middle" fill="white">4. Daily Job Automation</text>
  
  <!-- Connection arrows -->
  <path d="M350,140 L350,160" stroke="#0d47a1" stroke-width="2" fill="none" />
  <polygon points="345,155 350,160 355,155" fill="#0d47a1" />
  
  <path d="M350,230 L350,250" stroke="#0d47a1" stroke-width="2" fill="none" />
  <polygon points="345,245 350,250 355,245" fill="#0d47a1" />
  
  <path d="M350,320 L350,340" stroke="#0d47a1" stroke-width="2" fill="none" />
  <polygon points="345,335 350,340 355,335" fill="#0d47a1" />
</svg>
